{"timestamp":1551741604177,"code":"!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,\"a\",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p=\"\",s(s.s=1)}([function(module,exports){const Injector=window.Injector=window.Injector||(()=>{let exports=null,exportPromise=new Promise(t=>{window.__injectCall=(e=>{exports=e,t(e)})}),appender=`;__injectCall({${[\"Module\",\"cp5\",\"Runtime\",\"Browser\",\"ASM_CONSTS\"].map(t=>'r: typeof r !== \"undefined\" && r'.replace(/r/g,t)).join(\",\")}})`,replaced=[],replacedWith=[],replace=(t,e)=>{let{name:s}=e;replaced.push(t[s]),replacedWith.push(e),t[\"_\"+s]=t[s],t[s]=e};return replace(Function.prototype,function(){let t=replacedWith.indexOf(this);return this._toString.call(-1===t?this:replaced[t])}),replace(document,function getElementById(id){if(\"textInput\"!==id)return this._getElementById(id);throw this.getElementById=this._getElementById,fetch(document.querySelector('script[src*=\"build_\"]').src).then(t=>t.text()).then(t=>t.replace(/}\\)\\)\\(window\\)\\s*$/,t=>appender+t)).then(eval),new Error(\"Disabling default source\")}),{get exports(){if(!exports)throw new Error(\"Exports are not yet ready!\");return exports},maybeExports:()=>exports,getExports:()=>exportPromise,replace:replace}})();module.exports=Injector},function(t,e,s){const i=s(0),n=s(2),o=s(3),r=s(4),l=\"yes\"===localStorage[\"actually know javascript\"],c=class{constructor(t){this.parent=[t,...t.parent]}render(t,e,s){console.warn(\"Component missing render function!\",this)}renderAbsolute(t,e,s,i,n){t.clip(e,s,i,n),this.render(t,i,n),t.pop()}},h=class extends c{constructor(t,e=!1,s=!1){super(t),this.horizontal=e,this.resizable=s,this.children=[],this.size=0}render(t,e,s){if(this.horizontal){if(this.resize(e),this.resizable){let e=this.children[0].size;for(let i=1;i<this.children.length;i++){let n=this.children[i-1],r=this.children[i],l=i===this.children.length-1?5:o.min(r.size/2,5);if(t.mouse(r.mc,e-5,0,5+l,s),e+=r.size,r.mc.owned){if(t.cursor(\"col-resize\"),r.mc.left){let t=o.constrain(1===i?10-n.size:-n.size,i===this.children.length-1?r.size-10:r.size,r.mc.dx);n.size+=t,r.size-=t,r.mc.dx-=t}}else r.mc.dx=0}}let i=0;for(let{size:e,child:n}of this.children)n.renderAbsolute(t,i,0,e,s),i+=e}else{if(this.resize(s),this.resizable){let s=this.children[0].size;for(let i=1;i<this.children.length;i++){let n=this.children[i-1],r=this.children[i],l=i===this.children.length-1?5:o.min(r.size/2,5);if(t.mouse(r.mc,0,s-5,e,5+l),s+=r.size,r.mc.owned){if(t.cursor(\"row-resize\"),r.mc.left){let t=o.constrain(1===i?10-n.size:-n.size,i===this.children.length-1?r.size-10:r.size,r.mc.dy);n.size+=t,r.size-=t,r.mc.dy-=t}}else r.mc.dy=0}}let i=0;for(let{size:s,child:n}of this.children)n.renderAbsolute(t,0,0+i,e,s),i+=s}}createChild(t,...e){let s=new t(this,...e),i=this.children.length?o.floor(this.size/this.children.length):1024;return this.children.push({child:s,size:i,mc:{}}),this.size+=i,s}resizeChildren(t){let e=0;for(let s of this.children)s.size=t.shift()||s.size,e+=s.size;this.size=e}resize(t){if(this.size===t)return;let e=0,s=0;for(let i of this.children){e+=i.size;let n=o.round(e/this.size*t);i.size=n-s,s=n}this.size=t}},a=class extends c{constructor(t){super(t)}render(t,e,s){t.fill(\"#000000\"),t.rect(0,0,e,s),t.fill(\"#ffffff\"),t.rect(2,2,e-4,s-4)}},u=class extends c{constructor(t){super(t),this.camera={x:0,y:0,zoom:.2},this.mc={}}render(t,e,s){if(t.mouse(this.mc,0,0,e,s),this.mc.owned){if(this.mc.left?t.cursor(\"move\"):t.cursor(\"default\"),this.mc.left||0!==this.mc.scroll){let t=o.pow(.85,this.mc.scroll),i=this.mc.x-e/2,n=this.mc.y-s/2,r=(this.mc.left?this.mc.dx/this.camera.zoom:0)-i/this.camera.zoom,l=(this.mc.left?this.mc.dy/this.camera.zoom:0)-n/this.camera.zoom;this.camera.zoom=o.constrain(.01,2,this.camera.zoom*t),this.camera.x+=r+i/this.camera.zoom,this.camera.y+=l+n/this.camera.zoom}this.mc.dx=0,this.mc.dy=0,this.mc.scroll=0}t.fill(\"#f7f7f7\"),t.rect(0,0,e,s),t.fill(\"#c4c4c4\"),t.rectLineHorizontal(0,e,this.camera.y*this.camera.zoom+o.floor(s/2),2),t.rectLineVertical(this.camera.x*this.camera.zoom+o.floor(e/2),0,s,2),t.translate(o.floor(e/2)+this.camera.x*this.camera.zoom,o.floor(s/2)+this.camera.y*this.camera.zoom);let i=r(68184).$vector[0],n=i?{arenaRight:i[216].f32,leaderScore:i[384].f32,leaderX:i[552].f32,arenaTop:i[560].f32,arenaBottom:i[656].f32,leaderY:i[664].f32,arenaLeft:i[672].f32}:{arenaRight:0,leaderScore:0,leaderX:0,arenaTop:0,arenaBottom:0,leaderY:0,arenaLeft:0},l=n.arenaLeft*this.camera.zoom,c=n.arenaRight*this.camera.zoom,h=n.arenaTop*this.camera.zoom,a=n.arenaBottom*this.camera.zoom;t.rectLineHorizontal(l,c,h,2),t.rectLineHorizontal(l,c,a,2),t.rectLineVertical(l,h,a,2),t.rectLineVertical(c,h,a,2),t.font(10);let[u]=r(68208).$vector,m=u?65536*u[444].u32+u[442].u16:0,d=r(68220).$vector.map(t=>{return{x:t[40].f32,y:t[72].f32,id:65536*t.$[56].u32+t.$[54].u16}}),p=d.map(t=>t.id).reduce((t,e)=>t>e?t:e,-1);for(let{x:e,y:s,id:i}of d)t.fill(m===i?\"#36cf3e\":p===i?\"#3636cf\":\"#36363e\"),t.circle(e*this.camera.zoom,s*this.camera.zoom,3),t.text(`(${o.round(e)}, ${o.round(s)})`,e*this.camera.zoom+5,s*this.camera.zoom+4,5);0===n.leaderX&&0===n.leaderY||(t.fill(\"#ff3202\"),t.circle(n.leaderX*this.camera.zoom,n.leaderY*this.camera.zoom,3),t.text(`(${n.leaderX.toFixed(4)}, ${n.leaderY.toFixed(4)})`,n.leaderX*this.camera.zoom+5,n.leaderY*this.camera.zoom-8,5)),t.pop()}},m=class extends c{constructor(t,e=0){super(t),window.onresize=(()=>{}),0===e?(window.canvas.style.top=\"0\",window.canvas.style.left=\"0\",window.canvas.style.right=\"auto\",window.canvas.style.bottom=\"auto\",window.canvas.style.width=\"auto\",window.canvas.style.height=\"auto\"):window.canvas.style.display=\"none\",this.mode=e,this.disabled=!1,this.mc={}}renderAbsolute(t,e,s,n,c){if(t.mouse(this.mc,e,s,n,c),window.input)if(this.mc.owned){if(t.cursor(window.canvas.style.cursor),input.mouse(this.mc.x-e,this.mc.y-s),this.mc.left?input.keyDown(1):input.keyUp(1),this.mc.right?input.keyDown(3):input.keyUp(3),l&&0!==this.mc.scroll){let t=o.pow(.85,this.mc.scroll);r(68208).$vector[0][44].f32*=t}this.mc.scroll=0}else input.keyUp(1),input.keyUp(3);let h=window.canvas;if(1===this.mode&&t.image(h,e,s,n,c),h.width===n&&h.height===c||(h.width=n,h.height=c),0===this.mode)window.canvas.style.top=s+\"px\",window.canvas.style.left=e+\"px\";else if(2===this.mode){h.width===n&&h.height===c||(h.width=n,h.height=c);const{Browser:o}=i.exports;this.disabled?o.mainLoop.runner():o.mainLoop.runner&&(o.mainLoop.pause(),o.mainLoop.currentlyRunningMainloop--,o.mainLoop.scheduler=(()=>{}),o.mainLoop.runner(),this.disabled=!0),t.image(h,e,s,n,c)}}},d=class extends h{constructor(){super({parent:[]},!0,!0),this.mc={},this.canvas=this.createCanvas(),this.diepCanvas=this.createChild(m),this.controller=this.createChild(h,!1,!0),this.controller.createChild(u),this.controller.createChild(a),this.resizeChildren([3,1]),this.loop(),this.canvas.canvas.addEventListener(\"mousemove\",t=>{this.loop(!0)},!1)}createCanvas(){let t=document.body.appendChild(document.createElement(\"canvas\"));return t.style.position=\"absolute\",t.style.left=\"0\",t.style.right=\"0\",t.style.top=\"0\",t.style.bottom=\"0\",t.style.height=\"100%\",t.style.width=\"100%\",new n(t)}loop(t=!1){this.canvas.reset(window.innerWidth,window.innerHeight),this.render(this.canvas,window.innerWidth,window.innerHeight),this.canvas.mouse(this.mc,0,0,window.innerWidth,window.innerHeight),this.mc.owned&&this.canvas.cursor(\"default\"),t||requestAnimationFrame(()=>this.loop())}};console.log(\"[DPMA] Starting!\"),i.getExports().then(()=>{window.dpma=new d})},function(t,e){t.exports=class{constructor(t){this.canvas=t,this.ctx=t.getContext(\"2d\"),this.oldFontName=\"sans-serif\",this.mc=null,this.mouseAt={x:0,y:0,left:!1,right:!1},this.translates=[{x:0,y:0}];let e=this.mouseAt,s=s=>{let{left:i,top:n}=t.getBoundingClientRect();e.x=s.clientX-i,e.y=s.clientY-n,this.mc&&(this.mc.dx+=s.movementX,this.mc.dy+=s.movementY)};t.addEventListener(\"click\",t=>{t.preventDefault()},!1),t.addEventListener(\"dragstart\",t=>{t.preventDefault()},!1),t.addEventListener(\"contextmenu\",t=>{t.preventDefault()},!1),t.addEventListener(\"mousedown\",t=>{t.preventDefault(),s(t),0===t.button?e.left=!0:2===t.button&&(e.right=!0)},!1),t.addEventListener(\"mousemove\",t=>{s(t)},!1),t.addEventListener(\"mouseup\",t=>{s(t),0===t.button?e.left=!1:2===t.button&&(e.right=!1)},!1),t.addEventListener(\"mousewheel\",t=>{this.mc&&(this.mc.scroll+=t.wheelDelta/-120||t.detail||0)},!1)}clip(t,e,s,i){let n=this.translates[this.translates.length-1];this.translates.push({x:t+n.x,y:e+n.y}),this.ctx.save(),this.ctx.translate(t,e),this.ctx.beginPath(),this.ctx.rect(0,0,s,i),this.ctx.clip()}translate(t,e){let s=this.translates[this.translates.length-1];this.translates.push({x:t+s.x,y:e+s.y}),this.ctx.save(),this.ctx.translate(t,e)}pop(){this.ctx.restore(),this.translates.pop()}mouse(t,e,s,i,n,o=null){let r=this.translates[this.translates.length-1];if(e+=r.x,s+=r.y,this.mc&&this.mc!==t)return;let l=this.mouseAt.x>=e&&this.mouseAt.x<e+i&&this.mouseAt.y>=s&&this.mouseAt.y<s+n;t.hover=l&&(!o||o(this.mouseAt));let c=t.hover||this.mc;c&&(c&&!t.owned&&(t.dx=t.dx||0,t.dy=t.dy||0,t.scroll=t.scroll||0,t.owned=!0),t.x=this.mouseAt.x-r.x,t.y=this.mouseAt.y-r.y,t.left=this.mouseAt.left,t.right=this.mouseAt.right,this.mc=t)}reset(t,e){this.mc&&!this.mc.left&&(this.mc.owned=!1,this.mc.hover=!1,this.mc=null);let s=t!==this.canvas.width||e!==this.canvas.height;return s?(this.canvas.width=t,this.canvas.height=e,this.ctx.textBaseline=\"middle\"):this.ctx.clearRect(0,0,t,e),[t,e,s]}cursor(t){this.canvas.style.cursor=t}fill(t){this.ctx.fillStyle=t}alpha(t){this.ctx.globalAlpha=t}rect(t,e,s,i){this.ctx.fillRect(t,e,s,i)}rectLineVertical(t,e,s,i){this.ctx.fillRect(t-i/2,e,i,s-e)}rectLineHorizontal(t,e,s,i){this.ctx.fillRect(t,s-i/2,e-t,i)}image(t,e,s,i,n){this.ctx.drawImage(t,e,s,i,n)}circle(t,e,s){this.ctx.beginPath(),this.ctx.arc(t,e,s,0,2*Math.PI),this.ctx.fill()}triangle(t,e,s,i,n,o){this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(s,i),this.ctx.lineTo(n,o),this.ctx.fill()}quad(t,e,s,i,n,o,r,l){this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(s,i),this.ctx.lineTo(n,o),this.ctx.lineTo(r,l),this.ctx.fill()}createShape(){return new class{constructor(t){this.ctx=t,this.points=[]}vertex(t,e){this.points.push([t,e])}render(){this.ctx.beginPath();for(let[t,e]of this.points)this.ctx.vertex(t,e)}close(){this.render(),this.ctx.closePath(),this.ctx.fill()}done(){this.render(),this.ctx.fill()}}(this.ctx)}font(t,e=this.oldFontName){this.ctx.font=t+\"px \"+(this.oldFontName=e)}text(t,e,s){this.ctx.fillText(t,e,s)}}},function(t,e){let s=Object.create(window.Math);s.constrain=((t,e,s)=>t>=e?(t+e)/2:s>=e?e:s<=t?t:s),t.exports=s},function(t,e,s){const i=s(0);let n=({ptr:t},e)=>{let{Module:{HEAPU8:s,HEAPU16:n,HEAPU32:o,HEAPU64:l,HEAPF32:c,HEAPF64:h}}=i.exports;switch(e){case\"u8\":return s[t];case\"u16\":return n[t>>1];case\"u32\":return o[t>>2];case\"u64\":return l[t>>3];case\"f32\":return c[t>>2];case\"f64\":return h[t>>3];case\"vector\":let i=[];for(let e=o[t>>2];e<o[1+(t>>2)];e+=4)i.push(r(e));return i;case\"$vector\":let a=[];for(let e=o[t>>2];e<o[1+(t>>2)];e+=4)a.push(r(o[e>>2]));return a;case\"$\":return r(o[t>>2])}let a=parseInt(e,10);if(!Number.isNaN(a))return r(t+a)},o=({ptr:t},e,s)=>{let{Module:{HEAPU8:n,HEAPU16:o,HEAPU32:r,HEAPU64:l,HEAPF32:c,HEAPF64:h}}=i.exports;switch(e){case\"u8\":return n[t]=s;case\"u16\":return o[t>>1]=s;case\"u32\":return r[t>>2]=s;case\"u64\":return l[t>>3]=s;case\"f32\":return c[t>>2]=s;case\"f64\":return h[t>>3]=s}},r=t=>new Proxy({ptr:t},{get:n,set:o});t.exports=r}]);"}