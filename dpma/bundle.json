{"timestamp":1549848946638,"code":"!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=0)}([function(t,e,i){const s=i(1),n=i(2),o=class{constructor(t){this.parent=[t,...t.parent]}render(t,e,i,s,n){console.warn(\"Component missing render function!\",this)}},r=class extends o{constructor(t,e=!1,i=!1){super(t),this.horizontal=e,this.resizable=i,this.children=[],this.size=0}render(t,e,i,s,n){if(this.horizontal){if(this.resize(s),this.resizable){let s=this.children[0].size;for(let o=1;o<this.children.length;o++){let r=this.children[o-1],l=this.children[o],h=o===this.children.length-1?5:Math.min(l.size/2,5);if(t.mouse(l.mc,e+s-5,i,5+h,n),s+=l.size,l.mc.owned&&(t.cursor(\"col-resize\"),l.mc.left)){let t=Math.min(l.size,Math.max(-r.size,l.mc.dx));r.size+=t,l.size-=t,l.mc.dx-=t}}}let o=0;for(let{size:s,child:r}of this.children)r.render(t,e+o,i,s,n),o+=s}else{if(this.resize(n),this.resizable){let n=this.children[0].size;for(let o=1;o<this.children.length;o++){let r=this.children[o-1],l=this.children[o],h=o===this.children.length-1?5:Math.min(l.size/2,5);if(t.mouse(l.mc,e,i+n-5,s,5+h),n+=l.size,l.mc.owned&&(t.cursor(\"row-resize\"),l.mc.left)){let t=Math.min(l.size,Math.max(-r.size,l.mc.dy));r.size+=t,l.size-=t,l.mc.dy-=t}}}let o=0;for(let{size:n,child:r}of this.children)r.render(t,e,i+o,s,n),o+=n}}createChild(t,...e){let i=new t(this,...e),s=this.children.length?Math.floor(this.size/this.children.length):1024;return this.children.push({child:i,size:s,mc:{}}),this.size+=s,i}resizeChildren(t){let e=0;for(let i of this.children)i.size=t.shift()||i.size,e+=i.size;this.size=e}resize(t){if(this.size===t)return;let e=0,i=0;for(let s of this.children){e+=s.size;let n=Math.round(e/this.size*t);s.size=n-i,i=n}this.size=t}},l=class extends o{constructor(t){super(t)}render(t,e,i,s,n){t.fill(\"#000000\"),t.rect(e,i,s,n),t.fill(\"#ffffff\"),t.rect(e+2,i+2,s-4,n-4)}},h=class extends o{constructor(t,e=0){super(t),window.onresize=(()=>{}),0===e?(window.canvas.style.top=\"0\",window.canvas.style.left=\"0\",window.canvas.style.right=\"auto\",window.canvas.style.bottom=\"auto\",window.canvas.style.width=\"auto\",window.canvas.style.height=\"auto\"):window.canvas.style.display=\"none\",this.mode=e,this.disabled=!1,this.mc={}}render(t,e,i,n,o){t.mouse(this.mc,e,i,n,o),window.input&&(this.mc.owned?(t.cursor(window.canvas.style.cursor),input.mouse(this.mc.x-e,this.mc.y-i),this.mc.left?input.keyDown(1):input.keyUp(1),this.mc.right?input.keyDown(3):input.keyUp(3)):(input.keyUp(1),input.keyUp(3)));let r=window.canvas;if(1===this.mode&&t.image(r,e,i,n,o),r.width===n&&r.height===o||(r.width=n,r.height=o),0===this.mode)window.canvas.style.top=i+\"px\",window.canvas.style.left=e+\"px\";else if(2===this.mode){r.width===n&&r.height===o||(r.width=n,r.height=o);const{Browser:l}=s.exports;this.disabled?l.mainLoop.runner():l.mainLoop.runner&&(l.mainLoop.pause(),l.mainLoop.currentlyRunningMainloop--,l.mainLoop.scheduler=(()=>{}),l.mainLoop.runner(),this.disabled=!0),t.image(r,e,i,n,o)}}},c=class extends r{constructor(){super({parent:[]},!0,!0),this.mc={},this.canvas=this.createCanvas(),this.diepCanvas=this.createChild(h),this.controller=this.createChild(r,!1,!0),this.controller.createChild(l),this.controller.createChild(l),this.controller.createChild(l),this.resizeChildren([3,1]),this.loop()}createCanvas(){let t=document.body.appendChild(document.createElement(\"canvas\"));return t.style.position=\"absolute\",t.style.left=\"0\",t.style.right=\"0\",t.style.top=\"0\",t.style.bottom=\"0\",t.style.height=\"100%\",t.style.width=\"100%\",new n(t)}loop(){this.canvas.reset(window.innerWidth,window.innerHeight),this.render(this.canvas,0,0,window.innerWidth,window.innerHeight),this.canvas.mouse(this.mc,0,0,window.innerWidth,window.innerHeight),this.mc.owned&&this.canvas.cursor(\"default\"),requestAnimationFrame(()=>this.loop())}};console.log(\"[DPMA] Starting!\"),s.getExports().then(()=>{window.dpma=new c})},function(module,exports){const Injector=window.Injector=window.Injector||(()=>{let exports=null,exportPromise=new Promise(t=>{window.__injectCall=(e=>{exports=e,t(e)})}),appender=`;__injectCall({${[\"Module\",\"cp5\",\"Runtime\",\"Browser\",\"ASM_CONSTS\"].map(t=>'r: typeof r !== \"undefined\" && r'.replace(/r/g,t)).join(\",\")}})`,replaced=[],replacedWith=[],replace=(t,e)=>{let{name:i}=e;replaced.push(t[i]),replacedWith.push(e),t[\"_\"+i]=t[i],t[i]=e};return replace(Function.prototype,function(){let t=replacedWith.indexOf(this);return this._toString.call(-1===t?this:replaced[t])}),replace(document,function getElementById(id){if(\"textInput\"!==id)return this._getElementById(id);throw this.getElementById=this._getElementById,fetch(document.querySelector('script[src*=\"build_\"]').src).then(t=>t.text()).then(t=>t.replace(/}\\)\\)\\(window\\)\\s*$/,t=>appender+t)).then(eval),new Error(\"Disabling default source\")}),{get exports(){if(!exports)throw new Error(\"Exports are not yet ready!\");return exports},maybeExports:()=>exports,getExports:()=>exportPromise,replace:replace}})();module.exports=Injector},function(t,e){t.exports=class{constructor(t){this.canvas=t,this.ctx=t.getContext(\"2d\"),this.oldFontName=\"sans-serif\",this.mc=null,this.mouseAt={x:0,y:0,left:!1,right:!1};let e=this.mouseAt,i=i=>{let{left:s,top:n}=t.getBoundingClientRect();e.x=i.clientX-s,e.y=i.clientY-n,this.mc&&(this.mc.dx+=i.movementX,this.mc.dy+=i.movementY)};t.addEventListener(\"mousedown\",t=>{i(t),0===t.button?e.left=!0:2===t.button&&(e.right=!0)},!1),t.addEventListener(\"mousemove\",t=>{i(t)},!1),t.addEventListener(\"mouseup\",t=>{i(t),0===t.button?e.left=!1:2===t.button&&(e.right=!1)},!1),t.addEventListener(\"wheel\",t=>{this.mc&&(this.mc.scroll+=t.deltaY)},!1)}mouse(t,e,i,s,n,o=null){if(this.mc&&this.mc!==t)return null;let r=this.mouseAt.x>=e&&this.mouseAt.x<e+s&&this.mouseAt.y>=i&&this.mouseAt.y<i+n;t.hover=r&&(!o||o(this.mouseAt));let l=t.hover||this.mc;if(!l)return null;l&&!t.owned&&(t.dx=0,t.dy=0,t.scroll=0,t.owned=!0),t.x=this.mouseAt.x,t.y=this.mouseAt.y,t.left=this.mouseAt.left,t.right=this.mouseAt.right,this.mc=t}reset(t,e){!this.mc||this.mc.left||this.mc.right||(this.mc.owned=null,this.mc.hover=null,this.mc=null);let i=t!==this.canvas.width||e!==this.canvas.height;return i?(this.canvas.width=t,this.canvas.height=e,this.ctx.textBaseline=\"middle\"):this.ctx.clearRect(0,0,t,e),[t,e,i]}cursor(t){this.canvas.style.cursor=t}fill(t){this.ctx.fillStyle=t}alpha(t){this.ctx.globalAlpha=t}rect(t,e,i,s){this.ctx.fillRect(t,e,i,s)}image(t,e,i,s,n){this.ctx.drawImage(t,e,i,s,n)}circle(t,e,i){this.ctx.beginPath(),this.ctx.arc(t,e,i,0,2*Math.PI),this.ctx.fill()}triangle(t,e,i,s,n,o){this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(i,s),this.ctx.lineTo(n,o),this.ctx.fill()}quad(t,e,i,s,n,o,r,l){this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(i,s),this.ctx.lineTo(n,o),this.ctx.lineTo(r,l),this.ctx.fill()}createShape(){return new class{constructor(t){this.ctx=t,this.points=[]}vertex(t,e){this.points.push([t,e])}render(){this.ctx.beginPath();for(let[t,e]of this.points)this.ctx.vertex(t,e)}close(){this.render(),this.ctx.closePath(),this.ctx.fill()}done(){this.render(),this.ctx.fill()}}(this.ctx)}font(t,e=this.oldFontName){this.ctx.font=t+\"px \"+(this.oldFontName=e)}text(t,e,i){this.ctx.fillText(t,e,i)}}}]);"}